# Деплой на Vercel

Этот проект настроен для деплоя на Vercel с фронтендом (React) и бэкендом (FastAPI).

## Структура проекта

```
├── frontend/          # React приложение
├── backend/           # FastAPI сервер
├── vercel.json        # Конфигурация Vercel
└── env.example        # Пример переменных окружения
```

## Шаги для деплоя

### 1. Подготовка

1. Убедитесь, что у вас есть аккаунт на [Vercel](https://vercel.com)
2. Установите Vercel CLI: `npm i -g vercel`

### 2. Настройка переменных окружения

В Vercel Dashboard или через CLI добавьте следующие переменные окружения:

#### Для бэкенда:
- `MONGO_URL` - URL вашей MongoDB базы данных
- `DB_NAME` - название базы данных
- `CORS_ORIGINS` - разрешенные домены для CORS (например: `https://your-app.vercel.app`)

#### Для фронтенда:
- `REACT_APP_BACKEND_URL` - URL вашего деплоя (например: `https://your-app.vercel.app`)

### 3. Деплой

#### Вариант 1: Через Vercel Dashboard
1. Загрузите проект в GitHub/GitLab
2. Подключите репозиторий к Vercel
3. Настройте переменные окружения в Dashboard
4. Деплой произойдет автоматически

#### Вариант 2: Через CLI
```bash
# В корневой папке проекта
vercel

# Следуйте инструкциям:
# - Выберите "Link to existing project" или создайте новый
# - Укажите переменные окружения
# - Дождитесь завершения деплоя
```

### 4. Проверка деплоя

После деплоя:
- Фронтенд будет доступен по основному URL
- API будет доступен по `/api/*` маршрутам
- Проверьте работу API: `https://your-app.vercel.app/api/anime/list`

## Локальная разработка

### Бэкенд
```bash
cd backend
pip install -r requirements.txt
python server.py
```

### Фронтенд
```bash
cd frontend
npm install
npm start
```

## Важные замечания

1. **MongoDB**: Убедитесь, что ваша MongoDB база данных доступна из интернета
2. **CORS**: Настройте `CORS_ORIGINS` для вашего домена
3. **Переменные окружения**: Не забудьте добавить все необходимые переменные в Vercel
4. **API ключи**: Kodik API ключ уже встроен в код

## Устранение неполадок

### Ошибки CORS
- Проверьте настройку `CORS_ORIGINS` в переменных окружения
- Убедитесь, что домен указан правильно

### Ошибки подключения к MongoDB
- Проверьте `MONGO_URL` и `DB_NAME`
- Убедитесь, что IP адреса Vercel разрешены в MongoDB

### Ошибки сборки фронтенда
- Проверьте `REACT_APP_BACKEND_URL`
- Убедитесь, что все зависимости установлены 